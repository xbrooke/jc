<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSN å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            width: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f9f9fb;
            color: #333;
            line-height: 1.6;
        }

        .container {
            display: flex;
            height: 100%;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .left-section {
            flex: 8.5; /* å·¦ä¾§å 85%çš„å®½åº¦ */
            height: 100%;
        }

        .right-section {
            flex: 1.5; /* å³ä¾§å 15%çš„å®½åº¦ */
            background-color: #f1f1f1;
            padding: 20px;
            border-radius: 10px;
            height: 100%;
            display: flex;
            flex-direction: column; /* è®©å³ä¾§å†…å®¹å‚ç›´æ’åˆ— */
        }

        .progress-bar {
            width: 100%;
            background-color: #e0e0e0;
            height: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar-inner {
            height: 100%;
            width: 0;
            background-color: #007aff;
            transition: width 0.4s ease; /* å¢åŠ åŠ¨ç”»æ•ˆæœ */
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        button {
            padding: 10px 20px;
            background-color: #007aff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-bottom: 10px;
            transition: background-color 0.3s, transform 0.1s ease; /* æ·»åŠ å˜è‰²å’Œç¼©æ”¾çš„è¿‡æ¸¡æ•ˆæœ */
            position: relative; /* ä½¿åŠ¨æ•ˆæ›´å¹³æ»‘ */
        }

        button:hover {
            background-color: rgba(0, 122, 255, 0.8); /* æ‚¬åœæ—¶ç¨å¾®å˜è‰² */
        }

        button:active {
            transform: scale(0.95); /* ç‚¹å‡»æ—¶ç¼©å° */
            transition: transform 0.1s ease; /* ç¼©å°æ•ˆæœ */
        }

        button.clicked {
            background-color: #003f7f !important; /* ç‚¹å‡»æ—¶çš„é¢œè‰² */
            transition: background-color 0.2s; /* ç‚¹å‡»æ—¶é¢œè‰²å˜åŒ–çš„è¿‡æ¸¡æ•ˆæœ */
        }

        .step-title {
            font-weight: bold;
            margin-bottom: 10px;
        }

        .step-info {
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        /* æ–°æ‰‹å’Œè€æ‰‹é€‰é¡¹æ ·å¼ */
        .start-options {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .start-options button {
            width: auto;
            margin: 0 10px;
            padding: 15px 30px;
            font-size: 1rem;
            transition: background-color 0.3s, opacity 0.3s; /* æ·»åŠ é€æ˜åº¦å˜åŒ–çš„è¿‡æ¸¡æ•ˆæœ */
        }

        .start-options button:hover {
            background-color: white; /* é¼ æ ‡æ‚¬åœæ—¶å˜ä¸ºç™½è‰² */
            color: #007aff; /* æ–‡å­—é¢œè‰²å˜ä¸ºæ·±è‰² */
        }

        .start-options button:active {
            transform: translateY(1px); /* ç‚¹å‡»æ—¶ç¨å¾®ä¸‹æ²‰ */
        }

        .final-step-button {
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- æ–°æ‰‹å¿…è¯»/è€æ‰‹è·³è¿‡ -->
    <div class="start-options" id="startOptions">
        <button id="newUser">ğŸ‘¶ æ–°æ‰‹å¿…è¯»</button>
        <button id="skipUser">ğŸš€ è€æ‰‹è·³è¿‡</button>
    </div>

    <!-- å·¦ä¾§æ•™ç¨‹å†…å®¹ -->
    <div class="left-section">
        <iframe id="tutorialContent" src="" title="æ•™ç¨‹å†…å®¹"></iframe>
    </div>

    <!-- å³ä¾§å­¦ä¹ è¿›åº¦ -->
    <div class="right-section">
        <h1>å­¦ä¹ è¿›åº¦ ğŸ“Š</h1>

        <div class="step-title" id="stepTitle">å½“å‰æ­¥éª¤: ç¬¬1æ­¥ - OSNå®‰è£…è®¾ç½®</div>
        <div class="step-info" id="stepInfo">è¯·é˜…è¯»ä»¥ä¸Šå†…å®¹ä»¥å®Œæˆæœ¬æ­¥éª¤ã€‚ğŸ“</div>

        <div class="progress-bar">
            <div class="progress-bar-inner" id="progressBar"></div>
        </div>
        
        <div class="button-container">
            <button id="prevStep" style="display:none;">â¬…ï¸ ä¸Šä¸€æ­¥</button>
            <button id="nextStep" style="display:none;">ä¸‹ä¸€æ­¥ â¡ï¸</button>
            <button id="addGroupChat" style="display:none;" onclick="window.location.href='https://your-group-chat-link.com';">æ·»åŠ ç¾¤èŠ ğŸ’¬</button>
            <button id="goToAppStore" class="final-step-button" style="display:none;">å‰å¾€åº”ç”¨å•†åº— ğŸ›’</button>
        </div>
    </div>
</div>

<script>
    const nextStepBtn = document.getElementById("nextStep");
    const prevStepBtn = document.getElementById("prevStep");
    const addGroupChatBtn = document.getElementById("addGroupChat");
    const goToAppStoreBtn = document.getElementById("goToAppStore");
    const progressBar = document.getElementById("progressBar");
    const iframe = document.getElementById("tutorialContent");
    const stepTitle = document.getElementById("stepTitle");
    const stepInfo = document.getElementById("stepInfo");
    const startOptions = document.getElementById("startOptions");
    const newUserBtn = document.getElementById("newUser");
    const skipUserBtn = document.getElementById("skipUser");

    let step = 1;
    const totalSteps = 3; // æ€»æ­¥éª¤æ•°
    let currentProgress = 0; // å½“å‰æ­¥éª¤çš„è¿›åº¦

    const steps = [
        { title: "ç¬¬1æ­¥ - OSNå®‰è£…è®¾ç½®", info: "è¯·é˜…è¯»ä»¥ä¸Šå†…å®¹ä»¥å®Œæˆæœ¬æ­¥éª¤ã€‚ğŸ“" },
        { title: "ç¬¬2æ­¥ - åº”ç”¨å•†åº—ä½¿ç”¨æ•™ç¨‹", info: "è¯·é˜…è¯»ä»¥ä¸Šå†…å®¹ä»¥å®Œæˆæœ¬æ­¥éª¤ã€‚ğŸ“²" },
        { title: "ç¬¬3æ­¥ - OSN å¸¸è§é—®é¢˜Q&Aæ±‡æ€»", info: "è¯·é˜…è¯»ä»¥ä¸Šå†…å®¹ä»¥å®Œæˆæœ¬æ­¥éª¤ã€‚â“" }
    ];

    // æ›´æ–°æ­¥éª¤å’Œè¿›åº¦
    function updateProgress() {
        if (step > 0 && step <= steps.length) {
            stepTitle.textContent = steps[step - 1].title;
            stepInfo.textContent = steps[step - 1].info;
            currentProgress = (step / totalSteps) * 100; // è®¡ç®—å½“å‰è¿›åº¦
            progressBar.style.width = currentProgress + "%"; // æ›´æ–°è¿›åº¦æ¡
        }

        // æ˜¾ç¤ºæˆ–éšè—æŒ‰é’®
        if (step === 1) {
            prevStepBtn.style.display = "none"; // ç¬¬ä¸€æ­¥éšè—ä¸Šä¸€æ­¥æŒ‰é’®
        } else {
            prevStepBtn.style.display = "block"; // å…¶ä»–æ­¥éª¤æ˜¾ç¤ºä¸Šä¸€æ­¥æŒ‰é’®
        }

        if (step === totalSteps) {
            nextStepBtn.style.display = "none"; // æœ€åä¸€æ­¥éšè—ä¸‹ä¸€æ­¥æŒ‰é’®
            addGroupChatBtn.style.display = "block"; // æ˜¾ç¤ºâ€œæ·»åŠ ç¾¤èŠâ€æŒ‰é’®
            goToAppStoreBtn.style.display = "block"; // æ˜¾ç¤ºâ€œå‰å¾€åº”ç”¨å•†åº—â€æŒ‰é’®
        } else {
            nextStepBtn.style.display = "block"; // æ˜¾ç¤ºâ€œä¸‹ä¸€æ­¥â€æŒ‰é’®
            addGroupChatBtn.style.display = "none"; // éšè—â€œæ·»åŠ ç¾¤èŠâ€æŒ‰é’®
            goToAppStoreBtn.style.display = "none"; // éšè—â€œå‰å¾€åº”ç”¨å•†åº—â€æŒ‰é’®
        }
    }

    // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    nextStepBtn.addEventListener("click", () => {
        step++;
        if (step <= totalSteps) {
            // æ›´æ–°iframeå†…å®¹
            iframe.src = [
                "https://hblog.xbrooke.cn/p/22189", 
                "https://hblog.xbrooke.cn/p/60576", 
                "https://hblog.xbrooke.cn/p/da7"
            ][step - 1];
            updateProgress();
            nextStepBtn.classList.add("clicked");
            setTimeout(() => {
                nextStepBtn.classList.remove("clicked");
            }, 200);
        }
    });

    prevStepBtn.addEventListener("click", () => {
        if (step > 1) {
            step--;
            // æ›´æ–°iframeå†…å®¹
            iframe.src = [
                "https://hblog.xbrooke.cn/p/22189", 
                "https://hblog.xbrooke.cn/p/60576", 
                "https://hblog.xbrooke.cn/p/da7"
            ][step - 1];
            updateProgress();
            prevStepBtn.classList.add("clicked");
            setTimeout(() => {
                prevStepBtn.classList.remove("clicked");
            }, 200);
        }
    });

    // æ·»åŠ ç¾¤èŠæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
    addGroupChatBtn.addEventListener("click", () => {
        window.location.href = "https://wechat.xbrooke.cn"; // è·³è½¬åˆ°ç¾¤èŠé“¾æ¥
    });

    // å‰å¾€åº”ç”¨å•†åº—æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    goToAppStoreBtn.addEventListener("click", () => {
        window.location.href = "http://appstore.xbrooke.cn/"; // è·³è½¬è‡³åº”ç”¨å•†åº—
    });

    // æ–°æ‰‹å¿…è¯»å’Œè€æ‰‹è·³è¿‡æŒ‰é’®äº‹ä»¶
    newUserBtn.addEventListener("click", () => {
        startOptions.style.display = "none"; // éšè—é€‰é¡¹
        iframe.src = "https://hblog.xbrooke.cn/p/22189"; // åˆå§‹æ­¥éª¤
        updateProgress();
        // æ·»åŠ æŒ‰é’®ç‚¹å‡»å˜è‰²æ•ˆæœ
        newUserBtn.classList.add("clicked");
        setTimeout(() => {
            newUserBtn.classList.remove("clicked");
        }, 200);
    });

    skipUserBtn.addEventListener("click", () => {
        window.location.href = "http://appstore.xbrooke.cn/"; // ç›´æ¥è·³è½¬è‡³åº”ç”¨å•†åº—
        // æ·»åŠ æŒ‰é’®ç‚¹å‡»å˜è‰²æ•ˆæœ
        skipUserBtn.classList.add("clicked");
        setTimeout(() => {
            skipUserBtn.classList.remove("clicked");
        }, 200);
    });

    // åˆå§‹åŒ–è¿›åº¦
    updateProgress();
</script>

</body>
</html>
